<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.room.backend.data.mapper.CustomUserMapper">
    <resultMap id="BaseResultMap" type="com.room.backend.data._generated.entity.ApartmentsInfo">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Aug 30 00:49:17 CDT 2022.
        -->
        <id column="id" jdbcType="INTEGER" property="id" />
        <result column="name" jdbcType="VARCHAR" property="name" />
        <result column="state" jdbcType="VARCHAR" property="state" />
        <result column="city" jdbcType="VARCHAR" property="city" />
        <result column="street" jdbcType="VARCHAR" property="street" />
        <result column="zip" jdbcType="INTEGER" property="zip" />
        <result column="lat" jdbcType="REAL" property="lat" />
        <result column="lng" jdbcType="REAL" property="lng" />
        <result column="structure" jdbcType="CHAR" property="structure" />
        <result column="create_time" jdbcType="TIMESTAMP" property="create_time" />
        <result column="last_modify" jdbcType="TIMESTAMP" property="last_modify" />
    </resultMap>
    <select id="getApartmentsInfoByUserId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        select apt.*
        from users_info as u join user_fav_apartment as ufa on u.id = ufa.u_id
        join apartments_info as apt on ufa.a_id = apt.id;
    </select>
</mapper>